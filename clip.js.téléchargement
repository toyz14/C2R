(function(){OBR.clip=OBR.clip||function(){const a=k=>{k=k&&OBR.g.H(k);return k?(k=k.querySelectorAll(".ob-rec-video[ob-data-clip]"))&&k.length?Array.from(k):[]:[]},b=k=>{const l=k.element;l.addEventListener("click",p=>{l.paused?l.play():l.pause();p.stopPropagation();p.preventDefault();return!1})},c=k=>{k.element.addEventListener("ended",()=>{const l=k.element,p=k.wp;0<p-1&&(k.wp=p-1,l.play())})},d=k=>{const l=k.BE;k.element.addEventListener("ended",()=>{const p=k.element;if(0===k.wp-1){p.removeAttribute("controls");
k.Dw=!0;l.style.display=null;const h=()=>{p.removeEventListener("play",h);k.Dw=!1;l.style.display="none"};p.addEventListener("play",h)}})},e=k=>{const l=k.element;k.QK.addEventListener("click",p=>{l.play();p.stopPropagation();p.preventDefault();return!1})},f=({element:k})=>{k.autoplay&&(new OBR.IntersectionObserver({callback:l=>0<l.intersectionRatio?k.play():k.pause(),element:k,threshold:0,intersectPercentage:-1,unobserve:!1})).observe()};let g=!0;try{(g=(()=>{const k=document.createElement("video");
k.playsInline=!0;return"webkitSupportsPresentationMode"in k&&!k.webkitSupportsPresentationMode("inline")?!1:!0})())||OBR.error({name:"obm-fullscreenClip",message:"Inline playback is not supported."})}catch(k){}return k=>{var l=k.A();l=a(l);const p=k.l("clipPauseOnClick",!1);l.forEach(h=>{var m={element:h,BE:h.parentElement.querySelector(".ob-clip-end"),Dw:!1,wp:h.hasAttribute("ob-data-loops")?+h.getAttribute("ob-data-loops"):1,QK:h.parentElement.querySelector(".ob-clip-replay")};p&&b(m);var q=m.element;
q=q.closest?q.closest("a"):void 0;q&&q.style&&"webkitTapHighlightColor"in q.style&&(q.style.webkitTapHighlightColor="transparent");c(m);d(m);e(m);if(g)f(m);else{h.autoplay=!1;h.pause();try{h.webkitExitFullscreen()}catch(r){}}})}}();OBR.s.T(OBR.s.v.il);}).call(window);
