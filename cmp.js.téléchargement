(()=>{"use strict";var t={490:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.handlers=[],this.byId=new Map,this.name=t}executeHandlers(t,e){var s;e&&(null===(s=this.byId.get(e))||void 0===s||s.handlers.forEach((s=>s(Object.assign({},t),e)))),this.handlers.forEach((s=>s(Object.assign({},t),e)))}removeHandler(t,e){var s;const a=(null===(s=this.byId.get(""+e))||void 0===s?void 0:s.handlers)||this.handlers,n=a.indexOf(t);n>=0&&a.splice(n,1)}}},833:function(t,e,s){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=a(s(490));e.default=class{constructor(){this.isReady=!0,this.events=new Map,this.eventHistory=[]}on(t,e,s){let a=this.events.get(t);a||(a=new n.default(t),this.events.set(t,a));let i=a.handlers;if(s){let t=a.byId.get(s);t||(t={handlers:[]},a.byId.set(s,t)),i=t.handlers}i.push(e)}off(t,e,s){var a;null===(a=this.events.get(t))||void 0===a||a.removeHandler(e,s)}fire(t,e,s){var a;e&&Object.entries(e).forEach((([t,s])=>{void 0===s&&delete e[t]})),this.eventHistory.push({eventName:t,data:Object.assign({timestamp:Date.now()},e),id:s}),null===(a=this.events.get(t))||void 0===a||a.executeHandlers(e,s)}history(t){return t?this.eventHistory.filter((e=>e.eventName===t)):this.eventHistory}}},343:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Global=void 0;e.Global=class{constructor(){this.sas=window.sas=window.sas||{},this.isDebug=this._isDebug()}setEids(t){"function"==typeof this.sas.setEids?this.sas.setEids([t]):this.sas.cmd.unshift((()=>this.sas.setEids([t])))}removeEids(t){"function"==typeof this.sas.removeEids?this.sas.removeEids(t):this.sas.cmd.push((()=>this.sas.removeEids(t)))}_log(t,e,s=""){(e||this.isDebug)&&console[e||"log"]("%cequativ","background:#fe5000; border-radius:2px; color:#feffff; font-family:lato,sans-serif; padding:1px 3px;",t,s)}isString(t){return"string"==typeof t||t instanceof String}isNonEmptyString(t){return Boolean(t)&&this.isString(t)}isObjectEmpty(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t&&t&&0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}_isDebug(){return"true"===new URLSearchParams(window.location.search).get("sas_debug")}}},683:function(t,e,s){var a=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))((function(n,i){function d(t){try{o(a.next(t))}catch(t){i(t)}}function r(t){try{o(a.throw(t))}catch(t){i(t)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(d,r)}o((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SasIabApi=void 0;const n=s(882);class i{constructor(t,e){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=t.name,this.sasCookieName=t.sasCookieName,this.sasAddtlCookieName=t.sasAddtlCookieName,this.version=t.version,this.getConsentFunction=t.getConsentFunction,this.apiFunctionName=t.apiFunctionName,this.consentObjectConsentDataName=t.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=t.consentObjectAdditionalConsentDataName,this.apiLocator=t.apiLocator,this.sentMessage=t.sentMessage,this.postMessageReturnObjectName=t.postMessageReturnObjectName,e&&(this.myCmpCallbackFinished=()=>e()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(t,e){var s;if(!e||!t||void 0===t[this.consentObjectConsentDataName]||null===t[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:t,success:e,failType:"Wrong answer",version:this.version},this.name);if("stub"===t.cmpStatus&&null!==window.sas.localStorage.getItem(this.sasCookieName))return void window.sas.events.fire("ApiAnswered Stub answer",{consent:t,success:e,failType:"Ignoring stub data",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=t.gdprApplies;const a={consentObject:t,name:this.consentObjectConsentDataName};if(t[this.consentObjectConsentDataName]&&window.sas.localStorage.setItem(this.sasCookieName,t[this.consentObjectConsentDataName]),this.consentObjectAdditionalConsentDataName&&t[this.consentObjectAdditionalConsentDataName]&&this.sasAddtlCookieName){let e=t[this.consentObjectAdditionalConsentDataName];Array.isArray(e)&&(e=JSON.stringify(e)),window.sas.localStorage.setItem(this.sasAddtlCookieName,e),a.additionalConsent=this.consentObjectAdditionalConsentDataName}window.sas.events.fire("ApiAnswered Valid answer",a,this.name),null===(s=this.myCmpCallbackFinished)||void 0===s||s.call(this)}callApiLocal(){return a(this,void 0,void 0,(function*(){const t=window[this.apiFunctionName];if(void 0!==t&&"[object Function]"===Object.prototype.toString.call(t)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const e=()=>{const e=t("getGPPData");this.cmpCallback(e,null!=e)},s=Number((yield(0,n.betterGpp)("ping")).gppVersion||1);s<1.1&&e(),t(this.getConsentFunction,(t=>{s<1.1?e():this.cmpCallback(null==t?void 0:t.pingData,null!=(null==t?void 0:t.pingData))}))}else t(this.getConsentFunction,this.version,((t,e)=>{this.cmpCallback(t,e)}));return!0}return!1}))}callApiInFrame(){let t,e=window;for(;!t;){try{e.frames[this.apiLocator]&&(t=e)}catch(t){}if(e===window.top)break;e=e.parent}if(t){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const e=(e,s,a)=>{const n="smartjs"+Math.random();this.apiCallbacks[n]=a,this.sendPostMessage(e,s,n,t)};if(this.eventMessageListenerAdded||(window.addEventListener("message",(t=>{this.readPostMessageResponse(t)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const s="smartjsPing"+Math.random();this.apiCallbacks[s]=t=>{var s,a;((null===(s=t.returnValue)||void 0===s?void 0:s.gppVersion)?Number(null===(a=t.returnValue)||void 0===a?void 0:a.gppVersion):1)<1.1&&e("getGPPData",void 0,((t,e)=>{this.cmpCallback(t,e)}))},this.sendPostMessage("ping",null,s,t)}return e(this.getConsentFunction,void 0,((t,e)=>{this.cmpCallback(t,e)})),!0}return!1}sendPostMessage(t,e,s,a){const n={};n[this.sentMessage]={command:t,parameter:e,callId:s,version:this.version},null==a||a.postMessage(n,"*")}readPostMessageResponse(t){const e="string"==typeof t.data&&-1!==t.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(t.data):t.data;if(e[this.postMessageReturnObjectName]){const s=e[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[s.callId]||this.isCallbackDouble(s.callId,t)||(this.assignLastCallback(s.callId,t),this.apiCallbacks[s.callId](s.returnValue,s.success,this.version))}}isCallbackDouble(t,e){var s,a,n;let i=!1;const d=null===(a=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===a?void 0:a.returnValue;return t===this.lastCallbackResult.id&&(null==e?void 0:e.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==d?void 0:d.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==d?void 0:d.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==d?void 0:d.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(n=null==d?void 0:d.vendor)||void 0===n?void 0:n.consents)&&(i=!0),i}assignLastCallback(t,e){var s,a;const n=null===(a=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===a?void 0:a.returnValue;this.lastCallbackResult.id=t,this.lastCallbackResult.addtlConsent=null==n?void 0:n.addtlConsent,this.lastCallbackResult.eventStatus=null==n?void 0:n.eventStatus,this.lastCallbackResult.gdprApplies=null==n?void 0:n.gdprApplies,this.lastCallbackResult.timeStamp=null==e?void 0:e.timeStamp,(null==n?void 0:n.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==n?void 0:n.vendor))}tryCallApi(t){return a(this,void 0,void 0,(function*(){(yield this.callApiLocal())||(t%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:t},this.name),this.callApiInFrame())}))}searchApiInterval(){return a(this,void 0,void 0,(function*(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),yield this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}))}searchApi(){this.retryInterval=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}e.SasIabApi=i,window.SasIabApi=i},882:function(t,e){var s=this&&this.__awaiter||function(t,e,s,a){return new(s||(s=Promise))((function(n,i){function d(t){try{o(a.next(t))}catch(t){i(t)}}function r(t){try{o(a.throw(t))}catch(t){i(t)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(d,r)}o((a=a.apply(t,e||[])).next())}))};function a(t,e){return new Promise((s=>{const a=window.__gpp(t,((t,e)=>{e&&s(t)}),e);void 0!==a&&s(a)}))}function n(t){return s(this,void 0,void 0,(function*(){if(yield a("hasSection",t)){const e=yield a("getSection",t);return Array.isArray(e)?e[0]:e}return null}))}Object.defineProperty(e,"__esModule",{value:!0}),e.extendedGetSection=e.checkAndGetSection=e.betterGpp=e.ESection=void 0,function(t){t[t.tcfeuv2=2]="tcfeuv2",t[t.tcfcav1=5]="tcfcav1",t[t.uspv1=6]="uspv1",t[t.usnat=7]="usnat",t[t.usca=8]="usca",t[t.usva=9]="usva",t[t.usco=10]="usco",t[t.usut=11]="usut",t[t.usct=12]="usct",t[t.usfl=13]="usfl",t[t.usmt=14]="usmt",t[t.usor=15]="usor",t[t.ustx=16]="ustx",t[t.usde=17]="usde",t[t.usia=18]="usia",t[t.usne=19]="usne",t[t.usnh=20]="usnh",t[t.usnj=21]="usnj",t[t.ustn=22]="ustn"}(e.ESection||(e.ESection={})),e.betterGpp=a,e.checkAndGetSection=n,e.extendedGetSection=function(t){return s(this,void 0,void 0,(function*(){return(yield n(t))||(yield n(t+"v1"))}))}},417:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{isAvailable(){let t=!1;try{const e="smart_is_localstorage_available";localStorage.setItem(e,"1"),"1"===localStorage.getItem(e)&&(localStorage.removeItem(e),t=!0)}catch(t){}return this.isAvailable=()=>t,t}getItem(t){return this.isAvailable()?localStorage.getItem(t):null}setItem(t,e){return!!this.isAvailable()&&(localStorage.setItem(t,e),!0)}removeItem(t){return!!this.isAvailable()&&(localStorage.removeItem(t),!0)}}},624:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EKey=e.Tracing=void 0;const a=s(343);class n extends a.Global{constructor(){super(),this.objMap=new Map,this.samplingRate=this._isDebug()?1:1e4,this.apiEndpoint="https://apm.smartadserver.com:443/v1/traces",this.sas.tracing.setTraceHeaders=(t,e)=>this.setTraceHeaders(t,e),this.sas.tracing.add=(t,e)=>this.add(t,e),this.sas.tracing.addMany=(t,e)=>this.addMany(t,e),this.sas.tracing.sendTrace=(t,e)=>this.sendTrace(t,e)}sendTrace(t,e){const s=this.objMap.get(t);if(!(s&&s[i.shouldSendTrace]&&s[i.traceId]&&s[i.parentId]&&s[i.adCallStart]&&s[i.adCallEnd]&&s[i.beforeRender]&&(s[i.onAd]||s[i.noAd])))return;const a=this.getEvents(s),n=this.getTrace(a,{startTime:s[i.adCallStart],endTime:s[i.adCallEnd]},{startTime:s[i.beforeRender],endTime:s[i.onAd]||s[i.noAd]},e,s[i.traceId],s[i.parentId]);fetch(this.apiEndpoint,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}}),this._log("trace",void 0,n)}getEvents(t){return Object.entries(t).filter((([t])=>[i.beforeRender,i.load,i.noAd,i.onAd,i.render].includes(t))).map((([t,e])=>({name:t,time:e})))}getTrace(t,e,s,a,n,i){return{resourceSpans:[{resource:{attributes:[{key:"service.name",value:{stringValue:"smartjs"}},{key:"service.version",value:{stringValue:"1.32.0"}}]},scopeSpans:[{spans:[{name:"render",traceId:n,spanId:this.genRandomHex(16),parentSpanId:i,startTimeUnixNano:1e6*s.startTime,endTimeUnixNano:1e6*s.endTime,kind:1,attributes:[{key:"site.id",value:{intValue:a.siteId}},{key:"page.id",value:{intValue:a.pageId}},{key:"format.id",value:{intValue:a.formatId}},{key:"tag.id",value:{stringValue:a.tagId}},{key:"target",value:{stringValue:a.target}}],events:t.map((t=>({name:t.name,timeUnixNano:1e6*t.time})))},{name:"adcall",traceId:n,spanId:i,startTimeUnixNano:1e6*e.startTime,endTimeUnixNano:1e6*e.endTime,kind:3,attributes:[{key:"peer.service",value:{stringValue:"delivery"}}]}]}]}]}}addMany(t,e){const s=performance.timeOrigin+performance.now();for(const a of e)this.add(t,a.tagId,s)}genRandomHex(t){return[...Array(t)].map((()=>Math.floor(16*Math.random()).toString(16))).join("")}setTraceHeaders(t,e){this.addMany(i.adCallStart,e);const s=this.genRandomHex(32),a=this.genRandomHex(16),n=this.isTraceEligible(s,this.samplingRate);this.addData(e,s,a,n),t.setRequestHeader("traceparent",`00-${s}-${a}-${n?"01":"00"}`),t.setRequestHeader("tracestate","eqtv-source=smartjs"+(this._isDebug()?",eqtv-nosampling=true":""))}isTraceEligible(t,e){return this.fnv1a(t)%e==0}fnv1a(t){let e=2166136261;for(let s=0;s<t.length;s++)e^=t.charCodeAt(s),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}addData(t,e,s,a){for(const n of t)this.add(i.traceId,n.tagId,e),this.add(i.parentId,n.tagId,s),this.add(i.shouldSendTrace,n.tagId,a)}add(t,e,s){this.objMap.set(e,Object.assign(Object.assign({},this.objMap.get(e)),{[t]:void 0===s?performance.timeOrigin+performance.now():s}))}}var i;e.Tracing=n,function(t){t.adCallStart="adCallStart",t.adCallEnd="adCallEnd",t.beforeRender="beforeRender",t.noAd="noAd",t.onAd="onAd",t.load="load",t.render="render",t.shouldSendTrace="shouldSendTrace",t.traceId="traceId",t.parentId="parentId"}(i=e.EKey||(e.EKey={}))},418:function(t,e,s){var a,n,i,d,r=this&&this.__createBinding||(Object.create?function(t,e,s,a){void 0===a&&(a=s);var n=Object.getOwnPropertyDescriptor(e,s);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,a,n)}:function(t,e,s,a){void 0===a&&(a=s),t[a]=e[s]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&r(e,t,s);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const h=c(s(833)),u=c(s(417)),p=c(s(532)),g=l(s(581)),v=window.sas=window.sas||{};v.utils=v.utils||{},v.consent=v.consent||{},v.cmd=v.cmd||[],v.livePreview=v.livePreview||{},v.tracing=v.tracing||{},v.debugMode=v.debugMode||{},v.debugMode.logsQueue=v.debugMode.logsQueue||[],v.debugMode.bannersQueue=v.debugMode.bannersQueue||[],v.events=(null===(a=v.events)||void 0===a?void 0:a.isReady)?v.events:new h.default,v.localStorage=null!==(n=v.localStorage)&&void 0!==n?n:new u.default,v.Tag=null!==(i=v.Tag)&&void 0!==i?i:p.default,v.common=null!==(d=v.common)&&void 0!==d?d:g,e.default=v},532:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EScriptType=e.ECallType=void 0;const a=s(624),n=s(581);var i,d;e.default=class{constructor(t){this.instances=[],this.hbData=null,window.sas.events.on("ad",(t=>this.onAd({formatId:t.formatId,tagId:t.tagId})),t),window.sas.events.on("load",(()=>this.onLoad()),t),window.sas.events.on("noad",(t=>{const e={formatId:t.formatId,tagId:t.tagId,hbRenderUrls:t.hbRenderUrls||void 0};e.hbRenderUrls||delete e.hbRenderUrls,this.onNoad(e)}),t),window.sas.events.on("error",(t=>this.onError({formatId:t.formatId,tagId:t.tagId,instance:t.instance})),t),window.sas.events.on("render",(t=>this.onRender({formatId:t.formatId,tagId:t.tagId,instance:t.instance})),t),window.sas.events.on("beforeRender",(t=>this.onBeforeRender({formatId:t.formatId,tagId:t.tagId})),t),window.sas.events.on("hbRender",(t=>this.onHbRender({success:t.success})),t),window.sas.events.on("request",(t=>this.onRequest({formatId:t.formatId,tagId:t.tagId,instance:t.instance})),t)}onAd(t){window.sas.tracing.add(a.EKey.onAd,t.tagId),this.hasAd=!0,this.options&&this.options.onAd&&this.options.onAd(t)}onLoad(){var t,e;const s=document.getElementById(this.ad.tagId);s&&(this.hasAd=this.hasAd||s.childNodes.length>1,window.sas.tracing.add(a.EKey.load,this.ad.tagId),this.hasAd&&window.sas.tracing.sendTrace(this.ad.tagId,{siteId:this.ad.siteId,pageId:this.ad.pageId,pageName:this.ad.pageName?this.ad.pageName:"",formatId:this.ad.formatId,tagId:this.ad.tagId,target:this.ad.target}),null===(e=null===(t=this.options)||void 0===t?void 0:t.onLoad)||void 0===e||e.call(t,{formatId:this.ad.formatId,tagId:this.ad.tagId,hasAd:this.hasAd}))}onNoad(t){if(window.sas.tracing.add(a.EKey.noAd,t.tagId),window.sas.tracing.sendTrace(t.tagId,{siteId:this.ad.siteId,pageId:this.ad.pageId,pageName:this.ad.pageName?this.ad.pageName:"",formatId:this.ad.formatId,tagId:this.ad.tagId,target:this.ad.target}),this.displayData&&this.callType==i.ONECALL&&this.displayData.scriptNoad){const t=this.getHeaderBiddingData();t&&(this.displayData.scriptNoad=(0,n.addHBDataToUrl)(this.displayData.scriptNoad,t)),(new Image).src=this.displayData.scriptNoad}t.hbRenderUrls&&t.hbRenderUrls.hbRenderFailedUrl&&(this.hbRenderUrls=t.hbRenderUrls,t.hbRenderUrls=void 0),this.options&&this.options.onNoad&&this.options.onNoad(t)}onError(t){this.options&&this.options.onError&&this.options.onError(t)}onRender(t){window.sas.tracing.add(a.EKey.render,t.tagId)}onBeforeRender(t){window.sas.tracing.add(a.EKey.beforeRender,t.tagId),this.options&&this.options.beforeRender&&this.options.beforeRender(t)}onHbRender(t){this.hbRenderUrls&&(t.success?(new Image).src=this.hbRenderUrls.hbRenderSuccessUrl:(new Image).src=this.hbRenderUrls.hbRenderFailedUrl,this.hbRenderUrls=void 0)}onRequest(t){this.options&&this.options.request&&this.options.request(t)}setHeaderBiddingWinner(t){this.hbData=t}getHeaderBiddingData(){if(this.hbData&&!isNaN(this.hbData.cpm)){const t=this.hbData;return this.hbData=null,t}return null}clean(){const t=document.getElementById(this.ad.tagId);this.options&&this.options.onClean&&this.options.onClean(this.ad.formatId,t),window.sas.events.fire("clean",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId},this.ad.tagId),t&&(t.innerHTML="")}onCall(t,e,s){this.callType=t,this.ad=e,this.options=s}reset(t,e){this.displayData=void 0,this.hbRenderUrls=void 0,t?this.renderStatus=null:"rendered"==this.renderStatus&&(this.renderStatus="pending"),window.sas.events.fire("reset",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hardReset:t},this.ad.tagId),e&&this.instances&&this.instances.forEach((e=>e.reset(t,!1)))}render(){if("rendered"===this.renderStatus)return;if(!this.displayData)return void(this.renderStatus="pending");this.renderStatus="rendered",this.clean();const t={formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hbRenderUrls:this.displayData.hbRenderFailedUrl?{hbRenderFailedUrl:this.displayData.hbRenderFailedUrl,hbRenderSuccessUrl:this.displayData.hbRenderSuccessUrl}:void 0};window.sas.events.fire("beforeRender",t,this.ad.tagId);const e=()=>{window.sas.events.fire("load",t,this.ad.tagId)},s=document.getElementById(this.ad.tagId);if(window.sas.debugMode.addBanner&&s&&window.sas.debugMode.addBanner({adSlot:s,adInfo:{"Network ID":this.options.networkId,"Site ID":this.ad.siteId,"Page ID":this.ad.pageId,"Format ID":this.ad.formatId,"Tag ID":this.ad.tagId,Targeting:this.ad.target}}),!this.displayData.scriptType)return e(),window.sas.events.fire("noad",t,this.ad.tagId),void(window.sas.debugMode.addLog&&s&&window.sas.debugMode.addLog({adObj:this.ad,isAd:!1,adSlot:s}));window.sas.debugMode.addLog&&s&&window.sas.debugMode.addLog({adObj:this.ad,isAd:!0,adSlot:s}),s?(this.handleScriptType(s,e,(()=>{window.sas.events.fire("error",t,this.ad.tagId),window.sas.events.fire("noad",t,this.ad.tagId)})),(0,n.getLazyLoadingSignal)(String(this.ad.formatId))&&window.sas.events.fire("request",t,this.ad.tagId),window.sas.events.fire("render",t,this.ad.tagId)):window.sas.events.fire("error",t,this.ad.tagId)}handleScriptType(t,e,s){var a,i;switch(null===(a=this.displayData)||void 0===a?void 0:a.scriptType){case d.SCRIPT:{const a=this.getHeaderBiddingData();a&&this.displayData.scriptNoad&&(this.displayData.scriptNoad=(0,n.addHBDataToUrl)(this.displayData.scriptNoad,a)),(0,n.appendScript)(t,this.displayData.scriptSrc,e,s,this.hbData,(0,n.getLazyLoadingSignal)(String(this.ad.formatId)),this.ad.tagId);break}case d.PASSBACK:window.sas.passback({formatId:this.ad.formatId,tagId:this.ad.tagId,chain:this.displayData.chain,noadUrl:this.ad.noadUrl,pageId:this.ad.pageId,siteId:this.ad.siteId});break;case d.CONTENT:"application/javascript"===this.displayData.contentType&&(0,n.appendScriptContent)(t,this.displayData.content,this.ad.tagId),e();break;default:throw new Error("Unsupported script type "+(null===(i=this.displayData)||void 0===i?void 0:i.scriptType))}}},function(t){t.STD="std",t.IFRAME="iframe",t.ONECALL="onecall",t.PASSBACK="passback"}(i=e.ECallType||(e.ECallType={})),function(t){t.IFRAME="iframe",t.SCRIPT="script",t.PASSBACK="passback",t.CONTENT="content"}(d=e.EScriptType||(e.EScriptType={}))},581:(t,e)=>{function s(t,e){return t+`&hb_cpm=${e.cpm}&hb_bid=${e.bidder}&hb_ccy=${e.currency}${e.dealId?`&hb_dealid=${e.dealId}`:""}`}function a(){return window.sas.localStorage.getItem("sas_usprivacy")||null}function n(){if(window.sas.publisherDefinedConsent)return window.sas.publisherDefinedConsent;const t=window.sas.localStorage.getItem("sas_euconsent");return window.sas.localStorage.getItem("sas_euconsent_v2")||t}function i(){return window.sas.utils.isAddtlConsentBlocked()?null:window.sas.localStorage.getItem("sas_addtl_euconsent_v2")||null}function d(t){var e,s;let d;try{d=new URL(t)}catch(e){return t}const r=n();r&&d.searchParams.set("gdpr_consent",r);const o=i();o&&d.searchParams.set("addtl_consent",o);const l=a();l&&d.searchParams.set("us_privacy",l);const c=window.sas.localStorage.getItem("sas_gpp");c&&d.searchParams.set("gpp",c);const h=window.sas.localStorage.getItem("sas_gpp_sid");if(h)try{d.searchParams.set("gpp_sid",JSON.parse(h))}catch(t){}const u=window.sas.localStorage.getItem("eqtv_cmpvalid");u&&d.searchParams.set("cmpvalid",u);const p=window.sas.updateTarget(null!==(e=d.searchParams.get("tgt"))&&void 0!==e?e:void 0,null!==(s=d.searchParams.get("tag"))&&void 0!==s?s:"");return p&&d.searchParams.set("tgt",p),d.toString()}Object.defineProperty(e,"__esModule",{value:!0}),e.appendScriptContent=e.appendScript=e.updateConsentDataInUrl=e.getLazyLoadingSignal=e.getAddtlConsentData=e.getGdprConsentData=e.getUsPrivacyConsentData=e.addHBDataToUrl=void 0,e.addHBDataToUrl=s,e.getUsPrivacyConsentData=a,e.getGdprConsentData=n,e.getAddtlConsentData=i,e.getLazyLoadingSignal=function(t){return!(!window.sas.lazyLoading||!window.sas.lazyLoading.formats||0!==window.sas.lazyLoading.formats.length&&!window.sas.lazyLoading.formats.includes(parseInt(t)))},e.updateConsentDataInUrl=d,e.appendScript=function(t,e,a,n,i,r,o){const l=document.createElement("script");l.id="sas_script_"+o,l.type="text/javascript";let c="function"==typeof e?e():e;i&&(c=s(c,i)),r&&(c=d(c)),l.src=c,l.async=!0,l.addEventListener("load",a),l.addEventListener("error",n),t.appendChild(l)},e.appendScriptContent=function(t,e,s){const a=document.createElement("script");a.id="sas_script_"+s,a.text=e,t.appendChild(a)}}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}(()=>{s(418);const t=s(683)})()})();