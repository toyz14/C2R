/*
 jp-carousel 0.1.9 2022-10-17 
 */

!function(){var m=function(t,e,i,s,n,o,r,h,a,l){t.target?(this._targetEl=t.target,this._type=t.type,this._navPosition=t.navposition,this._infinite=t.infinite,this._arrowsrc=t.arrowsrc,this._periphery=t.periphery||0,this._noshowItem=t.noshowitem,this._navContainer=t.navcontainer||t.target,this._noArrowNav=t.noarrownav,this._isFadeOutOtherItems=t.fadeoutotheritems):(this._targetEl=t,this._type=e,this._navPosition=i,this._infinite=s,this._arrowsrc=n,this._periphery=o||0,this._noshowItem=r,this._navContainer=h||t,this._noArrowNav=a,this._isFadeOutOtherItems=l),void 0===this._type&&(this._type=m.Horiz),void 0===this._navPosition&&(this._navPosition=e),this._autoDeacSensitivity=50,this._isSwipeEnabled=!0,this._tweenEase=Quad,this._threshold=20,this._tweenTime=.4,this._autoShowTime=0,this._translateFactor=100,this._currentIndex=1,this._ignoreTargets=["jp-controls"],this._events=[],this.winDimensions={width:0,height:0},this.mouseDown={x:0,y:0},this.mouseDownOffset={x:0,y:0},this.lastMousePos={x:0,y:0},this.init=this.init.bind(this),this.showItem=this.showItem.bind(this),this.autoShowTimer=this.autoShowTimer.bind(this),this.mouseDownTouchStartHandler=this.mouseDownTouchStartHandler.bind(this),this.mouseMoveTouchMoveHandler=this.mouseMoveTouchMoveHandler.bind(this),this.mouseUpTouchEndHandler=this.mouseUpTouchEndHandler.bind(this),this.clickHandler=this.clickHandler.bind(this),this.resizeHandler=this.resizeHandler.bind(this),this.setItemPosition=this.setItemPosition.bind(this),this.resetItems=this.resetItems.bind(this),this.startSwipe=this.startSwipe.bind(this),this.updateSwipe=this.updateSwipe.bind(this),this.stopSwipe=this.stopSwipe.bind(this),this.killSwipe=this.killSwipe.bind(this),this.getContainingItem=this.getContainingItem.bind(this),this.doItemScaling=this.doItemScaling.bind(this),requestAnimationFrame(this.init)},o=".jp-carousel{overflow:hidden;position:relative;} .jp-carousel-main-view{position:relative;width:100%;height:100%;margin:auto}.jp-carousel-item-holder{white-space:nowrap; position:absolute; left:0; top:0; width:300%; height:100%;}.jp-carousel-item{display:inline-block; white-space:normal; position:absolute; left:0; top:0; overflow:hidden; width:33.33%; height:100%;}.jp-carousel-dotnav-holder{z-index:100;position:absolute;}.jp-carousel-dotnav-holder-bottom{bottom:10px; left:50%; transform:translate(-50%, 0); white-space:nowrap;}.jp-carousel-dotnav-holder-right{right:10px; top:50%; transform:translate(0, -50%);}.jp-carousel-dotnav-holder-top{top:10px; left:50%; transform:translate(-50%, 0); white-space:nowrap;}.jp-carousel-dotnav-holder-left{left:10px; top:50%; transform:translate(0, -50%)}.jp-carousel-dotnav{opacity:0.5; background:black; border:solid grey 1px; border-radius:50%; margin:2px 5px; width:18px; height:18px; position:relative; transition:background-color .3s}.jp-carousel-dotnav::after{content:''; position:absolute; width:200%; height:200%;left:50%;top:50%;transform:translate(-50%, -50%); }.jp-carousel-dotnav-active{background:white;}.jp-carousel-image-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:black;pointer-events:none;}.jp-carousel-arrownav-holder{pointer-events:none;position:absolute;padding:5px;}.jp-carousel-arrownav-holder-left{top:0;left:0;height:100%;}.jp-carousel-arrownav-holder-right{top:0;right:0;height:100%;}.jp-carousel-arrownav-holder-top{left:0;top:0;width:100%;}.jp-carousel-arrownav-holder-bottom{left:0;bottom:0;width:100%;}.jp-carousel-arrownav-holder > *{pointer-events:all;opacity:0.4;position:relative;cursor:pointer;}.jp-carousel-arrownav-holder-left > *, .jp-carousel-arrownav-holder-right > *{height:20%;max-height:120px;width:auto;top:50%;transform:translateY(-50%);}.jp-carousel-arrownav-holder-right > *{transform:translateY(-50%) rotate(180deg)}.jp-carousel-arrownav-holder-top > *, .jp-carousel-arrownav-holder-bottom > *{width:20%;max-width:120px;height:auto;left:50%;transform:translateX(-50%)}.jp-carousel-arrownav-holder-bottom > *{transform:translateX(-50%) rotate(180deg)}.jp-carousel-arrownav-holder > * *  {pointer-events:none;}.jp-carousel .jp-carousel-arrownav-holder{transition:opacity .5s;opacity:0}.jp-carousel:hover .jp-carousel-arrownav-holder{opacity:1}";m.scrollWindow;try{window.top.document.firstElementChild;m.scrollWindow=window.top}catch(t){m.scrollWindow=window}var h=m.scrollWindow.documentElement||m.scrollWindow.document.body;m.Horiz=1,m.Vert=2,m.Fade=3,m.Bottom=1,m.Right=2,m.Top=3,m.Left=4,m.None=0,m.Event_ShowItem="showitem",m.Event_PrepShowItem="prepshowitem",m.Event_SwipeItem="swipeitem",m.UseTouchEvents=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent),m.arrowHtmls={leftRight:'<svg class="jp-carousel-default-arrow" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 200 200" style="enable-background:new 0 0 200 200;" xml:space="preserve">\r\n<style type="text/css">\r\n\t.st0{fill:#FFFFFF;}\r\n</style>\r\n<g>\r\n\t<g>\r\n\t\t<rect width="200" height="200"/>\r\n\t\t<polygon class="st0" points="73.6,102 122.1,150.1 126.3,146.1 80.3,100 126.4,53.9 122.1,49.9 73.6,98 \t\t"/>\r\n\t</g>\r\n</g>\r\n</svg>\r\n',topBottom:'<svg class="jp-carousel-default-arrow" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200">\r\n  <defs>\r\n    <style>\r\n      .cls-1 {\r\n        fill: #fff;\r\n      }\r\n    </style>\r\n  </defs>\r\n  <g>\r\n    <g><rect width="200" height="200"/><polygon class="cls-1" points="98 73.55 49.88 122.08 53.89 126.29 100 80.28 146.11 126.45 150.12 122.06 102 73.55 98 73.55"/></g>\r\n  </g>\r\n</svg>\r\n'};var t=m.prototype;t.setActive=function(t){void 0===t&&(t=!0),this._active=t,this._active?(m.UseTouchEvents?document.body.addEventListener("touchstart",this.mouseDownTouchStartHandler):document.body.addEventListener("mousedown",this.mouseDownTouchStartHandler),this._navContainer.addEventListener("click",this.clickHandler)):(m.UseTouchEvents?document.body.removeEventListener("touchstart",this.mouseDownTouchStartHandler):document.body.removeEventListener("mousedown",this.mouseDownTouchStartHandler),this._navContainer.removeEventListener("click",this.clickHandler))},t.autoShowTimer=function(t){if(void 0!==t&&(this._autoShowTime=t),clearInterval(this.inter),t){this._infinite=!0;var e=this;this._currentIndex=this._currentIndex||0,this.inter=setInterval(function(){var t=e._currentIndex;t++,e.showItem(t)},t)}},t.on=function(t,e){this._events.push({evt:t,func:e})},t.fireEvent=function(t,e){for(var i=0;i<this._events.length;i++)this._events[i].evt===t&&this._events[i].func(e);if(this._callOnShowItems&&t===m.Event_ShowItem)for(i=0;i<this._callOnShowItems.length;i++)this._callOnShowItems[i](e);else if(this._callOnPrepareShowItems&&t===m.Event_PrepShowItem)for(i=0;i<this._callOnPrepareShowItems.length;i++)this._callOnPrepareShowItems[i](e)},t.setCallOnShowItem=function(t){this._callOnShowItems=this._callOnShowItems||[],this._callOnShowItems.push(t)},t.setCallOnPrepareShowItem=function(t){this._callOnPrepareShowItems=this._callOnPrepareShowItems||[],this._callOnPrepareShowItems.push(t)},t.setAutoDeacSensitivity=function(t){this._autoDeacSensitivity=t},t.setIsSwipeEnabled=function(t){this._isSwipeEnabled=t},t.setThreshold=function(t){this._threshold=t},t.setTweenTime=function(t){this._tweenTime=t},t.setTweenEase=function(t){this._tweenEase=t},t.setTranslateFactor=function(t){this._translateFactor=t},t.setAllowClickMidTransition=function(t){this._allowClickMidTransition=t},t.setIsFadeOutOtherItems=function(t){this._isFadeOutOtherItems=t},t.getIgnoreTargets=function(t){return this._ignoreTargets},t.getItems=function(){return this.itemElementHolder.children},t.getCurrentIndex=function(){return this._doubleup?this._currentIndex%(this.numItems/2):this._currentIndex},t.getAutoShowTime=function(){return this._autoShowTime},t.getCurrentItem=function(t){void 0===t&&(t=0);var e=this.getItems(),i=e.length<3?0:1;return this._infinite?e[this.itemOrder[i+t]]:e[this.itemOrder[i]+t]},t.resizeHandler=function(t){this.winDimensions.width=window.innerWidth||(document.documentElement||document.body).clientWidth,this.winDimensions.height=window.innerHeight||(document.documentElement||document.body).clientHeight,this.resetItems()},t.init=function(){if(!document.getElementById("jp-carousel-css")){var e=document.createElement("style");e.id="jp-carousel-css",document.head.insertBefore(e,document.head.querySelector("link")||document.head.firstChild);try{e.innerHTML=o}catch(t){e.styleSheet.cssText=o}}for(this._targetEl.className+=" jp-carousel",this.mainView=document.createElement("div"),this.mainView.className="jp-carousel-main-view",this._type===m.Horiz?this.mainView.style.width=100*(1-this._periphery)+"%":(this.mainView.style.height=100*(1-this._periphery)+"%",this.mainView.style.top=this._periphery/2*100+"%"),this.itemElementHolder=document.createElement("div"),this.itemElementHolder.setAttribute("jp-noClick","true");this._targetEl.firstElementChild;)0!==this._periphery&&this._targetEl.firstElementChild.insertAdjacentHTML("beforeend",'<div jp-noClick class="jp-carousel-image-overlay"></div>'),this.itemElementHolder.appendChild(this._targetEl.firstElementChild);if(this._doubleup=this._infinite&&2===this.itemElementHolder.children.length||this._periphery&&this.itemElementHolder.children.length<4,this._doubleup)for(var t=0;t<this.itemElementHolder.children.length/2;t++)this.itemElementHolder.appendChild(this.itemElementHolder.children[t].cloneNode(!0));this.mainView.appendChild(this.itemElementHolder),this._targetEl.appendChild(this.mainView),this.numItems=this.itemElementHolder.children.length,0<this._periphery?this.positionOffset=0:2===this.numItems?this.positionOffset=-1:this.positionOffset=0,this.itemElementHolder.className+=" jp-carousel-item-holder";var i=1/this.numItems;this.itemElementRefs={},this.itemOrder=[];for(t=0;t<this.numItems;t++){var s=this.itemElementHolder.children[t];s.className="jp-carousel-item "+s.className,this._type===m.Horiz?(this.itemElementHolder.style.width=100*this.numItems+"%",s.style.width=100*i+"%",s.style.top="0"):this._type===m.Vert?(this.itemElementHolder.style.width="100%",this.itemElementHolder.style.height=100*this.numItems+"%",s.style.height=100*i+"%",s.style.left="0"):this._type===m.Fade&&(this.itemElementHolder.style.width=this.itemElementHolder.style.height="100%",s.style.position=0===t?"relative":"absolute",s.style.width="100%",s.style.opacity=0,s.style.top=s.style.left="0",this.itemElementHolder.style.display="inline-block"),this.itemElementRefs[""+t]=s,this.itemOrder.push(t)}if(this.doDotNav(),this.doArrowNav(),this.setActive(),this._isReady=!0,this.resizeHandler(),window.addEventListener("resize",this.resizeHandler),this._noshowItem||this.showItem(0,0),m._callOnReadys)for(;m._callOnReadys.length;){var n=m._callOnReadys.shift();n.elOrObj!==this._targetEl&&n.elOrObj!==this||n.callback(this._targetEl,this)}},t.doDotNav=function(){var t,e;switch(this._navPosition){case m.Bottom:t="jp-carousel-dotnav-holder-bottom",e="inline-block";break;case m.Right:t="jp-carousel-dotnav-holder-right",e="block";break;case m.Top:t="jp-carousel-dotnav-holder-top",e="inline-block";break;case m.Left:t="jp-carousel-dotnav-holder-left",e="block";break;default:e="none"}this.dotNav=document.createElement("div"),this.dotNav.className="jp-carousel-dotnav-holder "+t,this.dots=[];for(var i=this._doubleup?this.numItems/2:this.numItems,s=0;s<i;s++){var n=document.createElement("div");n.setAttribute("jp-noClick","true"),n.className="jp-carousel-dotnav",n.style.display=e,this.dotNav.appendChild(n),this.dots.push(n)}this._navContainer.appendChild(this.dotNav)},t.doArrowNav=function(){var t,e,i;switch(this._type){case m.Horiz:case m.Fade:t="jp-carousel-arrownav-holder-left",e="jp-carousel-arrownav-holder-right",i=m.arrowHtmls.leftRight;break;case m.Vert:t="jp-carousel-arrownav-holder-top",e="jp-carousel-arrownav-holder-bottom",i=m.arrowHtmls.topBottom}this.arrowNavs=[];var s=document.createElement("div");this._arrowsrc&&(i='<img src="'+this._arrowsrc+'">'),s.innerHTML=i,s.setAttribute("jp-noClick","true"),s.className="jp-carousel-arrownav-holder "+t,this._noArrowNav&&(s.style.display="none"),this._navContainer.appendChild(s),this.addjpNoClick(s),this.arrowNavs.push(s.firstElementChild);var n=document.createElement("div");n.innerHTML=i,n.setAttribute("jp-noClick","true"),n.className="jp-carousel-arrownav-holder "+e,this._noArrowNav&&(n.style.display="none"),this._navContainer.appendChild(n),this.addjpNoClick(n),this.arrowNavs.push(n.firstElementChild)},t.updateDotNav=function(){for(var t=0;t<this.dots.length;t++)this.dots[t].className=this.dots[t].className.replace(/\W?jp-carousel-dotnav-active/,""),t===this.getCurrentIndex()&&(this.dots[t].className+=" jp-carousel-dotnav-active")},t.showItem=function(t,e,i){void 0===t&&(t=this._currentIndex),void 0===e&&(e=this._tweenTime);var s,n,o,r=0;t<0?(t=this._infinite?this.numItems-1:0,this.isTouchSwipe||this._infinite||(r=1)):t>this.numItems-1&&(t=this._infinite?0:this.numItems-1,this.isTouchSwipe||this._infinite||(r=-1)),i||(this.finalTargetIndex=t),t===this._currentIndex&&0===r||(this.lastNextIndex=void 0,this.prepareShowItem(t)),t==this._currentIndex?s=0:0==t&&this._currentIndex==this.numItems-1?(s=this._infinite?1:-1,n=!0):t==this.numItems-1&&0==this._currentIndex?(s=this._infinite?-1:1,n=!0):s=t>this._currentIndex?1:-1,0===this._periphery||this._infinite&&n?this._currentIndex=parseInt(t):this._currentIndex+=s;for(var h=0;h<this.numItems;h++){var a=this._currentIndex+h-1-this.positionOffset;a=a<0?this.numItems+a:a,a%=this.numItems,this.itemOrder[h]=a}this.isInTransition=!0,e=0===this._periphery||0===Math.abs(this.finalTargetIndex-this._currentIndex)?e:e/2,e/=Math.abs(r)+1;var l={force3D:!0,onComplete:this.resetItems,onUpdate:0===this._periphery?void 0:this.doItemScaling,onCompleteParams:[Math.abs(r)],overwrite:"all"};if(l.ease=this._tweenEase.easeInOut,0<this._periphery&&0<Math.abs(this.finalTargetIndex-this._currentIndex)?i?(l.ease=Linear.easeNone,e*=.5):l.ease=this._tweenEase.easeIn:i&&(l.ease=this._tweenEase.easeOut),this._type===m.Horiz)o=this.itemElementHolder.firstElementChild.clientWidth,l.x=1==s?-o*(2+this.positionOffset):-1==s?-o*this.positionOffset:-o*(1+this.positionOffset),l.x+=r*o/4;else if(this._type===m.Vert)o=this.itemElementHolder.firstElementChild.clientHeight,l.y=1==s?-o*(2+this.positionOffset):-1==s?-o*this.positionOffset:-o*(1+this.positionOffset),l.y+=r*o/4;else if(this._type===m.Fade){var d=this.getItems();for(h=0;h<d.length;h++)d[h]===this.itemElementRefs[this._currentIndex+""]?gsap.to(d[h],1.5*e,{opacity:1,onComplete:this.resetItems,ease:l.ease,overwrite:!0}):this._isFadeOutOtherItems&&gsap.to(d[h],1.5*e,{delay:.1,opacity:0})}gsap.to(this.itemElementHolder,e,l),this.fireEvent(m.Event_ShowItem,this.getCurrentIndex()),this.updateDotNav(),this.isTouchSwipe=!1},t.prepareShowItem=function(t){if(this.lastNextIndex!==t){if(this._type===m.Fade){if(this._currentIndex!==t)for(var e=0;e<this.numItems;e++){var i,s=this.itemOrder[e],n=1;s===t?(n=0,i=10):i=s===this._currentIndex?9:8,this.itemElementRefs[""+s].style.zIndex=i,this._isFadeOutOtherItems||(this.itemElementRefs[""+s].style.opacity=n)}}else{if(!(0===this._currentIndex&&t===this.numItems-1&&this._infinite||this._currentIndex===this.numItems-1&&0===t&&this._infinite||t===this._currentIndex&&0===t||t===this.numItems-1&&this._currentIndex===this.numItems-1)||this._infinite&&0<this._periphery){var o=[].concat(this.itemOrder),r=0;if(0===this._periphery){var h,a=this.itemOrder.indexOf(t);2===this.numItems?(h=t<this._currentIndex?0:1,t<this._currentIndex&&(r=-1)):h=t<this._currentIndex?0:2;var l=o.splice(h,1,t)[0];o.splice(a,1,l)}else if((0!==t||this._currentIndex!==this.numItems-1)&&(t<this._currentIndex||t===this.numItems-1&&0===this._currentIndex)){l=3;var d=o.slice(l),c=o.slice(0,l);r=-((o=d.concat(c)).length-l)}this.setItemPosition(o,r)}this.doVisibility(t,o)}this.fireEvent(m.Event_PrepShowItem,t)}this.lastNextIndex=t},t.resetItems=function(t){t=t||0,this.setItemPosition(),gsap.killTweensOf(this.itemElementHolder),this._type===m.Horiz?gsap.to(this.itemElementHolder,t,{x:-this.itemElementHolder.firstElementChild.clientWidth*(1+this.positionOffset),force3D:!0,onUpdate:0===this._periphery?void 0:this.doItemScaling}):this._type===m.Vert&&gsap.to(this.itemElementHolder,t,{y:-this.itemElementHolder.firstElementChild.clientHeight*(1+this.positionOffset),force3D:!0,onUpdate:0===this._periphery?void 0:this.doItemScaling});for(var e=0;e<this.arrowNavs.length;e++){var i=this.arrowNavs[e];if(i.viewBox){var s=i.viewBox.baseVal.width/i.viewBox.baseVal.height,n=i.getBoundingClientRect();/(left|right)/.test(i.parentNode.className)?i.style.width=n.height/s+"px":i.style.height=n.width/s+"px"}}0<this._periphery?(this.doItemScaling(),this.finalTargetIndex<this._currentIndex?this.showItem(this._currentIndex-1,void 0,!0):this.finalTargetIndex>this._currentIndex?this.showItem(this._currentIndex+1,void 0,!0):this.isInTransition=!1):this.isInTransition=!1,this.isDisableClick=!1},t.setItemPosition=function(t,e){var i=t||this.itemOrder;void 0===e&&(e=0);for(var s=0;s<this.numItems;s++){var n=this.itemElementRefs[i[s]+""];this._type===m.Horiz?n.style.left=n.clientWidth*s+e*n.clientWidth+"px":this._type===m.Vert&&(n.style.top=n.clientHeight*s+e*n.clientHeight+"px")}},t.clickHandler=function(t){if(this.isDisableClick&&t.stopImmediatePropagation(),this._allowClickMidTransition||!this.isInTransition)if(-1<this.dots.indexOf(t.target))this.autoShowTimer(this._autoShowTime),this.lastNextIndex=void 0,this.showItem(this.dots.indexOf(t.target));else if(-1<this.arrowNavs.indexOf(t.target)){this.autoShowTimer(this._autoShowTime);var e=(t.target.parentElement||t.target.parentNode).className;/-left|-top/.test(e)?this.showItem(this._currentIndex-1):/-right|-bottom/.test(e)&&this.showItem(this._currentIndex+1)}},t.mouseDownTouchStartHandler=function(t){if(this._isSwipeEnabled&&!this.isInTransition&&this.getContainingItem(t.target)&&!(-1<this._ignoreTargets.indexOf(t.target))){for(var e=0;e<this._ignoreTargets.length;e++)if(-1<t.target.className.indexOf(this._ignoreTargets[e])||-1<t.target.id.indexOf(this._ignoreTargets[e]))return;var i="touches"in t?t.touches[0]:t;this.scrollTopMouseDown=m.scrollWindow.pageYOffset||h.scrollTop,this.isTouchSwipe=!0,this.startSwipe(i.clientX,i.clientY),m.UseTouchEvents?(document.addEventListener("touchmove",this.mouseMoveTouchMoveHandler),document.addEventListener("touchend",this.mouseUpTouchEndHandler)):(document.addEventListener("mouseup",this.mouseUpTouchEndHandler),document.addEventListener("mousemove",this.mouseMoveTouchMoveHandler),t.preventDefault())}},t.mouseMoveTouchMoveHandler=function(t){var e="touches"in t?t.touches[0]:t;this.updateSwipe(e.clientX,e.clientY)},t.mouseUpTouchEndHandler=function(t){m.UseTouchEvents?(document.removeEventListener("touchmove",this.mouseMoveTouchMoveHandler),document.removeEventListener("touchend",this.mouseUpTouchEndHandler)):(document.removeEventListener("mouseup",this.mouseUpTouchEndHandler),document.removeEventListener("mousemove",this.mouseMoveTouchMoveHandler)),this.stopSwipe()},t.startSwipe=function(t,e,i){void 0===i&&(i=!0),this.isStartSwipe=!0,this.lastNextIndex=void 0,this.mouseDown.x=this.lastMousePos.x=t,this.mouseDown.y=this.lastMousePos.y=e,this.mouseDownOffset.x=this.mouseDown.x-gsap.getProperty(this.itemElementHolder,"x"),this.mouseDownOffset.y=this.mouseDown.y-gsap.getProperty(this.itemElementHolder,"y"),this.indexAtStartSwipe=this._currentIndex,this.autoShowTimer(void 0)},t.updateSwipe=function(t,e){this.lastMousePos.x=t,this.lastMousePos.y=e;var i=Math.abs(t-this.mouseDown.x),s=m.scrollWindow.pageYOffset||h.scrollTop,n=Math.max(Math.abs(e-this.mouseDown.y),Math.abs(this.scrollTopMouseDown-s));if(this._type===m.Horiz){if(n>this._autoDeacSensitivity)return void this.killSwipe();if(this.isStartSwipe&&i<this._threshold/2)return;this.isStartSwipe=!1,this.isDisableClick=!0,gsap.set(this.itemElementHolder,{x:t-this.mouseDownOffset.x,force3D:!0})}else if(this._type===m.Vert){if(this.isStartSwipe&&n<this._threshold/2)return;if(i>this._autoDeacSensitivity)return void this.killSwipe();this.isStartSwipe=!1,this.isDisableClick=!0,gsap.set(this.itemElementHolder,{y:e-this.mouseDownOffset.y,force3D:!0})}var o=this._currentIndex,r=this._type===m.Horiz?this.mouseDown.x-this.lastMousePos.x:this.mouseDown.y-this.lastMousePos.y;1<Math.abs(r)&&((o=0<r?this._currentIndex+1:this._currentIndex-1)<0?o=this._infinite?this.numItems-1:0:o>this.numItems-1&&(o=this._infinite?0:this.numItems-1));if(0<this._periphery&&this.doItemScaling(),this.indexAtStartSwipe!==o&&i>this.itemElementHolder.firstElementChild.clientWidth-this._threshold)return this.stopSwipe(!0),void this.startSwipe(t,e,!1);this.prepareShowItem(o)},t.stopSwipe=function(t){var e,i=this.lastMousePos.x-this.mouseDown.x,s=this.lastMousePos.y-this.mouseDown.y,n=this._currentIndex;this._type===m.Horiz?Math.abs(i)>this._threshold&&Math.abs(s)<this._autoDeacSensitivity&&(0<i?(n=this._currentIndex-1,e="right"):(n=this._currentIndex+1,e="left")):this._type===m.Vert&&Math.abs(i)<this._autoDeacSensitivity&&Math.abs(s)>this._threshold&&(0<s?(n=this._currentIndex-1,e="down"):(n=this._currentIndex+1,e="up")),e&&this.fireEvent(m.Event_SwipeItem,e),this.showItem(n,t?0:void 0),this.autoShowTimer(this._autoShowTime)},t.killSwipe=function(){document.removeEventListener("mousemove",this.mouseMoveTouchMoveHandler),document.removeEventListener("touchmove",this.mouseMoveTouchMoveHandler),document.removeEventListener("mouseup",this.mouseUpTouchEndHandler),document.removeEventListener("touchend",this.mouseUpTouchEndHandler),this.showItem(this._currentIndex),this.autoShowTimer(this._autoShowTime)},t.doVisibility=function(t,e){if(!this._infinite)for(var i=e||this.itemOrder,s=0<this._periphery?2:1,n=i.indexOf(0),o=i.indexOf(this.numItems-1),r=0;r<i.length;r++){var h="inherit",a=i[r];this._currentIndex<s&&r<n&&(h="hidden"),this._currentIndex>this.numItems-(s+1)&&o<r&&(h="hidden"),this.itemElementRefs[""+a].style.visibility=h}},t.doItemScaling=function(){for(var t=this._type===m.Horiz?this.itemElementHolder.clientWidth/2:this.itemElementHolder.clientHeight/2,e=this.itemElementHolder.parentElement.getBoundingClientRect(),i=this.itemElementHolder.getBoundingClientRect(),s=0;s<this.itemOrder.length;s++){var n,o=this.itemElementHolder.children[s],r=this._type===m.Horiz?e.left+e.width/2-(i.left+o.offsetLeft+o.clientWidth/2):e.top+e.height/2-(i.top+o.offsetTop+o.clientHeight/2),h=Math.abs(r),a=Math.abs(t-h)/t,l=1-a,d=0,c=0;n=r<0?-this._translateFactor*l:this._translateFactor*l,this._type===m.Horiz?d=n:c=n,o.style.zIndex=parseInt(20*a),o.getElementsByClassName("jp-carousel-image-overlay")[0].style.opacity=l,gsap.set(o,{scale:a,x:d,y:c})}},t.addjpNoClick=function(t){for(var e=0;e<t.children.length;e++){var i=t.children[e];i.setAttribute("jp-noClick",""),i.children&&this.addjpNoClick(i)}},t.getContainingItem=function(t){if(t===this.itemElementHolder)return this.itemElementHolder;for(var e=0;e<this.numItems;e++)if(this.itemElementHolder.children[e].contains(t))return this.itemElementHolder.children[e];return null};for(var e=document.querySelectorAll("[jp-carousel]"),i=[],s=0;s<e.length;s++){var n,r=e[s],a=r.getAttribute("jp-carousel"),l=m.Horiz,d=m.None,c=!1,u=!1,p=!1;/(\s|^)vertical(\s|$)/.test(a)?l=m.Vert:/(\s|^)fade(\s|$)/.test(a)&&(l=m.Fade),/(\s|^)dotnav-top(\s|$)/.test(a)?d=m.Top:/(\s|^)dotnav-bottom(\s|$)/.test(a)&&(d=m.Bottom),/(\s|^)infinite(\s|$)/.test(a)&&(c=!0),/(\s|^)noarrownav(\s|$)/.test(a)&&(u=!0),/(\s|^)fadeoutotheritems(\s|$)/.test(a)&&(p=!0),n=(n=a.match(/arrowsrc:([^\s])+/))&&n.length?n[0].replace(/arrowsrc:/,""):void 0,periphery=a.match(/periphery:([^\s])+/),periphery&&periphery.length?periphery=periphery[0].replace(/periphery:/,""):periphery=void 0,l===m.Vert&&(d===m.Bottom?d=m.Right:d===m.Top&&(d=m.Left)),i.push({el:r,obj:new m(r,l,d,c,n,periphery,void 0,void 0,u,p)})}m.getObject=function(t){t.nodeType!==Node.ELEMENT_NODE&&(t=document.querySelector(t));for(var e=0;e<i.length;e++)if(i[e].el===t)return i[e].obj},m.callOnReady=function(t,e){"JPCarousel"===t.constructor.name&&t._isReady?e(t._targetEl,t):t.nodeType===Node.ELEMENT_NODE&&m.getObject(t)._isReady?e(t,m.getObject(t)):(m._callOnReadys=m._callOnReadys||[],m._callOnReadys.push({elOrObj:t,callback:e}))},window.JPCarousel=m}();